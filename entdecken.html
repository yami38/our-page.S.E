<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Edin & Sudenaz</title>

<!-- Google Font -->
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">

<!-- Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
html, body {
    margin: 0;
    padding: 0;
    background-color: snow;
    font-family: Times New Roman, sans-serif;
    color: black;
    text-align: center;
    overflow-x: hidden;
}

header {
    background-color: snow;
    color: black;
    font-family: 'Great Vibes', cursive;
    font-size: 1.6rem;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    padding: 20px;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    z-index: 1000;
    border-bottom: 1px solid #ddd;
}

header i {
    color: #8b0000;
}

header a {
    font-family: 'Great Vibes', cursive;
    color: #8b0000;
    text-decoration: none;
}

#hud {
    margin-top: 90px;
    font-size: 1.2rem;
}

#hud span {
    display: inline-block;
    background: #fff;
    padding: 5px 10px;
    border-radius: 8px;
    margin: 0 5px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

canvas {
    background: #fff5f5;
    margin-top: 20px;
    border-radius: 10px;
    box-shadow: 0 0 15px rgba(0,0,0,0.1);
}
</style>
</head>
<body>

<header>
    <i class="fas fa-heart"></i>
    <a href="index.html">Edin & Sudenaz</a>
    <i class="fas fa-heart"></i>
</header>

<h1>Fang die Herzen ‚ù§Ô∏è</h1>
<div id="hud">
    <span>Score: <span id="score">0</span></span>
    <span>Best: <span id="best">0</span></span>
    <span>Verpasst: <span id="missed">0</span>/5</span>
</div>

<canvas id="gameCanvas"></canvas>

<footer style="margin-top:30px;">
    <a href="entdecken.html">Entdecken</a> | 
    <a href="einkaufen.html">Einkaufen</a> |
    <a href="kontaktieren.html">Kontaktieren</a> 
</footer>

<script>
const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");

function resizeCanvas() {
    canvas.width = Math.min(window.innerWidth - 20, 500);
    canvas.height = Math.min(window.innerHeight * 0.6, 600);
}
resizeCanvas();
window.addEventListener("resize", resizeCanvas);

let basket = { x: canvas.width / 2 - 30, y: canvas.height - 40, width: 60, height: 20 };
let objects = [];
let score = 0;
let missed = 0;
let speed = 2;
let spawnRate = 1000; // ms
let bestScore = localStorage.getItem("bestScore") || 0;
document.getElementById("best").innerText = bestScore;

const types = [
    { emoji: "üß°", points: 1, bad: false, chance: 0.6 },
    { emoji: "üñï", points: -1, bad: true, chance: 0.1 },
    { emoji: "‚ù§Ô∏è", points: 2, bad: false, chance: 0.25 },
    { emoji: "üíé", points: 5, bad: false, chance: 0.05 }
];

function drawBasket() {
    ctx.fillStyle = "pink";
    ctx.fillRect(basket.x, basket.y, basket.width, basket.height);
}

function spawnObject() {
    let r = Math.random();
    let cumulative = 0;
    for (let t of types) {
        cumulative += t.chance;
        if (r <= cumulative) {
            objects.push({ 
                type: t, 
                x: Math.random() * (canvas.width - 30), 
                y: -20 
            });
            break;
        }
    }
}

function drawObjects() {
    ctx.font = "24px Arial";
    objects.forEach(o => {
        ctx.fillText(o.type.emoji, o.x, o.y);
        o.y += speed;
    });
}

function checkCollisions() {
    objects = objects.filter(o => {
        if (o.y > basket.y && o.x > basket.x - 15 && o.x < basket.x + basket.width) {
            score += o.type.points;
            document.getElementById("score").innerText = score;
            if (score > bestScore) {
                bestScore = score;
                localStorage.setItem("bestScore", bestScore);
                document.getElementById("best").innerText = bestScore;
            }
            return false;
        }
        if (o.y > canvas.height) {
            if (!o.type.bad) {
                missed++;
                document.getElementById("missed").innerText = missed;
                if (missed >= 5) {
                    alert("Game Over! Dein Score: " + score);
                    resetGame();
                }
            }
            return false;
        }
        return true;
    });
}

function resetGame() {
    score = 0;
    missed = 0;
    speed = 2;
    spawnRate = 1000;
    document.getElementById("score").innerText = score;
    document.getElementById("missed").innerText = missed;
    objects = [];
}

function gameLoop() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    drawBasket();
    drawObjects();
    checkCollisions();
    requestAnimationFrame(gameLoop);
}

setInterval(() => {
    spawnObject();
    if (score % 10 === 0 && score > 0) {
        speed += 0.2;
        spawnRate = Math.max(300, spawnRate - 20);
    }
}, spawnRate);

// Steuerung per Tastatur
document.addEventListener("keydown", e => {
    if (e.key === "ArrowRight") basket.x = Math.min(canvas.width - basket.width, basket.x + 20);
    if (e.key === "ArrowLeft") basket.x = Math.max(0, basket.x - 20);
});

// Touchsteuerung
canvas.addEventListener("touchmove", e => {
    e.preventDefault();
    let touchX = e.touches[0].clientX - canvas.getBoundingClientRect().left;
    basket.x = touchX - basket.width / 2;
}, { passive: false });

// Maussteuerung
canvas.addEventListener("mousemove", e => {
    let mouseX = e.clientX - canvas.getBoundingClientRect().left;
    basket.x = mouseX - basket.width / 2;
});

gameLoop();
</script>

</body>
</html>


</script>
</body>
</html>
